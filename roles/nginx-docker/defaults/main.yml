---
nginx_container:
  directory: "/config/nginx"

nginx:
  name: "{{ global.nginx.name }}"
  # Docker image
  image: linuxserver/letsencrypt
  port:
    http: 80
    https: 443
  config:
    # where nginx will be on the server (not container)
    directory: "{{ base_folder }}/nginx"
    nginx: "{{ base_folder }}/nginx/nginx"
    conf: "{{ base_folder }}/nginx/nginx/site-confs"
  proxy:
    file: "{{ nginx_container.directory }}/proxy-settings.conf"
    domain: !vault |
      $ANSIBLE_VAULT;1.1;AES256
      65663536376561303734323866383265316531333839613038313339356461643965353631656533
      3666383065653231643264353730373531326537383438310a333036366164353766316330643330
      61616532633730626466323639653035363939626639393832303230396236646536316530346462
      3231613232373739630a303037306332346536386532356465376531336666333535386663393532
      3062
  vms:
    domain: !vault |
      $ANSIBLE_VAULT;1.1;AES256
      36626361316636653436386366303061316136383131383863376138306664316137343039313131
      3733333761313963666565626534313563646666623865300a393131613535326435626162323666
      33663861326638333663633332393565663633616236366163666537623539326265396432626533
      3334323030373734380a396662313437643735343335343638336338383435363534336539306630
      3331
    host: vms-dmz
    port:
      http: 8081
      https: 8082

letsencrypt:
  email: !vault |
    $ANSIBLE_VAULT;1.1;AES256
    30616162393063383236383538376134653664663362613866333531633466636263663137616661
    3034323561373435323137363833626366336631656264350a626339613739646538313366636561
    36653730386137636231363435306537303433636330306137313830316166393135376265313535
    6135663266336631320a323363336139353762316437633061666536343566383839306630613263
    63303737343334396166333861333261613966633032376330653839633666333434313338366361
    3737356230303130376536313862666234323061666538343036
  url: "{{ nginx.proxy.domain }}"
  extra_domains: "{{ nginx.vms.domain }}"
  validation: http
